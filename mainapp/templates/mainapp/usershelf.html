{% extends "mainapp/base.html" %}
{% load static %}
{% block content %}
<div class="container">
	<!-- Nav tabs nav-tabs -->
	<ul class="nav nav-pills">
		<li class="active"><a data-toggle="tab" href="#rated">Rated/Reviewed Books</a></li>
		<li><a data-toggle="tab" href="#recentlyviewed">Recently Viewed</a></li>
		<li><a data-toggle="tab" href="#favourites">Favourites</a></li>
		<li><a data-toggle="tab" href="#readingnow">Reading Now</a></li>
		<li><a data-toggle="tab" href="#toread">To Read</a></li>
		<li><a data-toggle="tab" href="#haveread">Have Read</a></li>
		<li><a data-toggle="tab" href="#booksforme">Books for Me</a></li>
	</ul>

	<!-- Tab panes -->
	<div class="tab-content">
		<div id="rated" class="tab-pane fade in active">
			<h3>Rated</h3>
			<p>Rated or reviewed books should come here</p>
		</div>
		<div id="recentlyviewed" class="tab-pane fade">
			<h3>Recentyle viewewd</h3>
			<p>Recently viewed books here</p>
		</div>
		<div id="favourites" class="tab-pane fade">
			<h3>Favourite Books</h3>
			<div>
				<ul class="list-group list-group-flush" id="favourite-book-result"></ul>
			</div>
		</div>
		<div id="readingnow" class="tab-pane fade">
			<h3>reading books</h3>
			<p>reading books here</p>
		</div>
		<div id="toread" class="tab-pane fade">
			<h3>To read</h3>
			<p>To read books here</p>
		</div>
		<div id="haveread" class="tab-pane fade">
			<h3>Have Read</h3>
			<p>Have read books here</p>
		</div>
		<div id="booksforme" class="tab-pane fade">
			<h3>Recommendation here</h3>
			<p>ML to recommend here</p>
		</div>
	</div>
</div>
<script type="text/javascript">
	window.onload = function() {
		var favourite_Book = "{{favourite_Book}}";
		var reading_Book = "{{reading_Book}}";
		var to_read_Book = "{{to_read_Book}}";
		var have_read_Book = "{{have_read_Book}}";

		"{% for books in favourite_Book %}"
			var uid = "{{books.isbn_13}}/{{books.isbn_10}}"
			var isbn_13 = "{{books.isbn_13}}";
			var isbn_10 = "{{books.isbn_10}}";
			$("#favourite-book-result").append('<div class="row" id=' + uid + '><div class="col-sm-8"> <h4><a style="cursor: pointer;" onclick="bookPage('+isbn_13+','+isbn_10+')">' + "{{books.title}}" + '</a></h4> </div> </div>');
			console.log("{{books.title}}");
		"{% endfor %}"

		console.log(favourite_Book);
		console.log(reading_Book);
		console.log(to_read_Book);
		console.log(have_read_Book);
	}

	var bookPage = function(isbn_13, isbn_10) {
		var current_URL = window.location.href;
		current_URL = current_URL.split("/");
		current_URL = current_URL.slice(0, 3);
		current_URL[1]="//";
		current_URL = current_URL.join("");
        window.location = current_URL+"/book_page/"+isbn_13+"/"+isbn_10;
    }
</script>
{% endblock %}